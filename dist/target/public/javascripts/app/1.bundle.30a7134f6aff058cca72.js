webpackJsonp([1],{160:function(module,exports,__webpack_require__){try{(function(){"use strict";var Flux=__webpack_require__(161),FluxConstant=__webpack_require__(167),React=__webpack_require__(2),IndexStore=__webpack_require__(168),IndexAction=__webpack_require__(169),Button=__webpack_require__(170),Index=Flux.createView({getStore:function(){return[IndexStore]},getState:function(){return{text:IndexStore.getResultText()}},handleClick:function(){IndexAction.updateText("this is my first update")},render:function(){return React.createElement("div",null,React.createElement("label",null,this.state.text),React.createElement(Button,{id:"loginBtn",className:"btn-danger btn-large",onClick:this.handleClick},"登陆"))},resize:function(){FluxConstant.view.PAGE_WIDTH,FluxConstant.view.PAGE_HEIGHT}});module.exports=Index}).call(this)}finally{}},161:function(module,exports,__webpack_require__){try{(function(){"use strict";var React=__webpack_require__(2),AppDispatcher=new(__webpack_require__(162).Dispatcher),EventEmitter=__webpack_require__(165).EventEmitter,assign=__webpack_require__(166),FluxConstant=__webpack_require__(167),BaseAction={dispatch:function(type,text){AppDispatcher.dispatch({actionType:type,text:text})}},BaseStore=assign({},EventEmitter.prototype,{emitChange:function(){this.emit(FluxConstant.event.CHANGE_EVENT)},addChangeListener:function(callback){this.on(FluxConstant.event.CHANGE_EVENT,callback)},removeChangeListener:function(callback){this.removeListener(FluxConstant.event.CHANGE_EVENT,callback)}}),BaseView={_onChange:function(){if(this.getState){var state=this.getState();state&&this.setState(state)}},getInitialState:function(){if(this.getState){var state=this.getState();if(state)return state}return{}},componentWillMount:function(){this.resize&&this.resize.call(this)},componentDidMount:function(){if(this.getStore){var store=this.getStore();if(store)for(var i=0;i<store.length;i++)store[i].addChangeListener(this._onChange)}this.resize&&window.addEventListener("resize",this.resize)},componentWillUnmount:function(){if(this.getStore){var store=this.getStore();if(store)for(var i=0;i<store.length;i++)store[i].removeChangeListener(this._onChange)}this.resize&&window.removeEventListener("resize",this.resize)}},FluxUtil={createStore:function(obj){var newObj=assign({},BaseStore,obj);return AppDispatcher.register(function(action){newObj.update&&(newObj.update(action),newObj.emitChange())}),newObj},createAction:function(obj){var newObj=assign({},BaseAction,obj);return newObj},createView:function(obj){var newObj=assign({},BaseView,obj);return React.createClass(newObj)}};window.addEventListener("resize",function(){var w=window,d=document,documentElement=d.documentElement,body=d.getElementsByTagName("body")[0],width=w.innerWidth||documentElement.clientWidth||body.clientWidth,height=w.innerHeight||documentElement.clientHeight||body.clientHeight;FluxConstant.view.PAGE_WIDTH=width,FluxConstant.view.PAGE_HEIGHT=height});var dispatchEvent=function(obj,eventName){if(document.createEvent){var event=document.createEvent("HTMLEvents");event.initEvent(eventName,!0,!0),obj.dispatchEvent(event)}else document.createEventObject&&obj.fireEvent("on"+eventName)};dispatchEvent(window,"resize"),module.exports=FluxUtil}).call(this)}finally{}},162:function(module,exports,__webpack_require__){try{(function(){"use strict";module.exports.Dispatcher=__webpack_require__(163)}).call(this)}finally{}},163:function(module,exports,__webpack_require__){(function(process){try{(function(){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var invariant=__webpack_require__(164),_prefix="ID_",Dispatcher=function(){function Dispatcher(){_classCallCheck(this,Dispatcher),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return Dispatcher.prototype.register=function(callback){var id=_prefix+this._lastID++;return this._callbacks[id]=callback,id},Dispatcher.prototype.unregister=function(id){this._callbacks[id]?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",id):invariant(!1),delete this._callbacks[id]},Dispatcher.prototype.waitFor=function(ids){this._isDispatching?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching."):invariant(!1);for(var ii=0;ii<ids.length;ii++){var id=ids[ii];this._isPending[id]?this._isHandled[id]?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",id):invariant(!1):(this._callbacks[id]?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",id):invariant(!1),this._invokeCallback(id))}},Dispatcher.prototype.dispatch=function(payload){this._isDispatching?"production"!==process.env.NODE_ENV?invariant(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."):invariant(!1):void 0,this._startDispatching(payload);try{for(var id in this._callbacks)this._isPending[id]||this._invokeCallback(id)}finally{this._stopDispatching()}},Dispatcher.prototype.isDispatching=function(){return this._isDispatching},Dispatcher.prototype._invokeCallback=function(id){this._isPending[id]=!0,this._callbacks[id](this._pendingPayload),this._isHandled[id]=!0},Dispatcher.prototype._startDispatching=function(payload){for(var id in this._callbacks)this._isPending[id]=!1,this._isHandled[id]=!1;this._pendingPayload=payload,this._isDispatching=!0},Dispatcher.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},Dispatcher}();module.exports=Dispatcher}).call(this)}finally{}}).call(exports,__webpack_require__(5))},164:function(module,exports,__webpack_require__){(function(process){try{(function(){"use strict";var invariant=function(condition,format,a,b,c,d,e,f){if("production"!==process.env.NODE_ENV&&void 0===format)throw new Error("invariant requires an error message argument");if(!condition){var error;if(void 0===format)error=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var args=[a,b,c,d,e,f],argIndex=0;error=new Error("Invariant Violation: "+format.replace(/%s/g,function(){return args[argIndex++]}))}throw error.framesToPop=1,error}};module.exports=invariant}).call(this)}finally{}}).call(exports,__webpack_require__(5))},165:function(module,exports,__webpack_require__){try{(function(){"use strict";function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"===("undefined"==typeof arg?"undefined":_typeof(arg))&&null!==arg}function isUndefined(arg){return void 0===arg}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;throw TypeError('Uncaught, unspecified "error" event.')}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1),handler.apply(this,args)}else if(isObject(handler))for(args=Array.prototype.slice.call(arguments,1),listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args);return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned&&(m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace())),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-- >0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else if(listeners)for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;if(evlistener)return evlistener.length}return 0},EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)}}).call(this)}finally{}},166:function(module,exports,__webpack_require__){try{(function(){"use strict";function ToObject(val){if(null==val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}module.exports=Object.assign||function(target,source){for(var pendingException,from,keys,to=ToObject(target),s=1;s<arguments.length;s++){from=arguments[s],keys=Object.keys(Object(from));for(var i=0;i<keys.length;i++)try{to[keys[i]]=from[keys[i]]}catch(err){void 0===pendingException&&(pendingException=err)}}if(pendingException)throw pendingException;return to}}).call(this)}finally{}},167:function(module,exports,__webpack_require__){try{(function(){"use strict";var FluxConstant={event:{CHANGE_EVENT:"change"},view:{PAGE_WIDTH:0,PAGE_HEIGHT:0}};module.exports=FluxConstant}).call(this)}finally{}},168:function(module,exports,__webpack_require__){try{(function(){"use strict";var Flux=__webpack_require__(161),resultText="init value",IndexStore=Flux.createStore({update:function(action){var text=action.text.trim();switch(action.actionType){case"updateText":""!==text&&(resultText=text)}},getResultText:function(){return resultText}});module.exports=IndexStore}).call(this)}finally{}},169:function(module,exports,__webpack_require__){try{(function(){"use strict";var Flux=__webpack_require__(161),IndexAction=Flux.createAction({updateText:function(text){this.dispatch("updateText",text)}});module.exports=IndexAction}).call(this)}finally{}},170:function(module,exports,__webpack_require__){try{(function(){"use strict";var React=__webpack_require__(2),Flux=__webpack_require__(161),Button=Flux.createView({render:function(){return React.createElement("button",{className:"btn "+this.props.className,onClick:this.props.onClick},this.props.children)}});module.exports=Button}).call(this)}finally{}}});